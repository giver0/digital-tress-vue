(function(){"use strict";var e={9715:function(e,l,t){var o=t(9242),n=t(3396);function i(e,l,t,o,i,r){const a=(0,n.up)("fieldBox");return(0,n.wg)(),(0,n.j4)(a)}const r={class:"digital-tree__layout"},a={class:"digital-tree__control"},s={class:"digital-tree__counter"},c={class:"digital-tree__counter-box"},u=(0,n._)("div",{class:"digital-tree__counter-text"},"Delay (ms) ",-1),d={class:"digital-tree__counter-box"},h=(0,n._)("div",{class:"digital-tree__counter-text"},"Tree count",-1),g={class:"digital-tree__counter-box"},f=(0,n._)("div",{class:"digital-tree__counter-text"},"Column",-1),C={class:"digital-tree__counter-box"},v=(0,n._)("div",{class:"digital-tree__counter-text"},"Raw",-1),p={class:"digital-tree__counter-trees-cell-boxs",id:"counter-trees-cell"};function _(e,l,t,i,_,y){const m=(0,n.up)("CellHeader"),b=(0,n.up)("CellsField"),x=(0,n.up)("ControlButton"),w=(0,n.up)("CycleCounter"),j=(0,n.up)("CellCounter"),k=(0,n.up)("LogBox");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(m),(0,n._)("div",r,[(0,n._)("div",null,[(0,n.Wm)(b,{fieldCells:e.fieldCells},null,8,["fieldCells"])]),(0,n._)("div",a,[(0,n.Wm)(x,{onOnPauseGame:e.pauseGame,isGamePaused:e.isGamePaused,isCanChangeColor:e.isCanChangeColor,onOnChangeColor:e.ChangeColor},null,8,["onOnPauseGame","isGamePaused","isCanChangeColor","onOnChangeColor"]),(0,n._)("div",s,[(0,n.Wm)(w,{cycleCounter:e.cycleCounter,fullCycleCounter:e.fullCycleCounter},null,8,["cycleCounter","fullCycleCounter"]),(0,n._)("div",c,[u,(0,n.wy)((0,n._)("input",{type:"number",id:"counter-speed","onUpdate:modelValue":l[0]||(l[0]=l=>e.timeRange=l),placeholder:"Speed",name:"quantity",step:"10",min:"0",max:"6000",class:"counter-text-input"},null,512),[[o.nr,e.timeRange]])]),(0,n._)("div",d,[h,(0,n.wy)((0,n._)("input",{type:"number",id:"counter-tree","onUpdate:modelValue":l[1]||(l[1]=l=>e.treeCount=l),placeholder:"Tree count",name:"quantity",step:"1",min:"0",max:"10",class:"counter-text-input",onInput:l[2]||(l[2]=(...l)=>e.checkTreeCount&&e.checkTreeCount(...l))},null,544),[[o.nr,e.treeCount]])]),(0,n._)("div",g,[f,(0,n.wy)((0,n._)("input",{type:"number",id:"counter-tree","onUpdate:modelValue":l[3]||(l[3]=l=>e.fieldWidth=l),placeholder:"Tree count",name:"quantity",step:"1",min:"1",max:"20",onInput:l[4]||(l[4]=(...l)=>e.checkColumnCount&&e.checkColumnCount(...l)),class:"counter-text-input"},null,544),[[o.nr,e.fieldWidth]])]),(0,n._)("div",C,[v,(0,n.wy)((0,n._)("input",{type:"number",id:"counter-field-size-raw","onUpdate:modelValue":l[5]||(l[5]=l=>e.fieldHeight=l),placeholder:"Tree count",name:"quantity",step:"1",min:"1",max:"20",onInput:l[6]||(l[6]=(...l)=>e.checkRawCount&&e.checkRawCount(...l)),class:"counter-text-input"},null,544),[[o.nr,e.fieldHeight]])])]),(0,n._)("div",p,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.digitalTrees,(e=>((0,n.wg)(),(0,n.j4)(j,{key:e.id,tree:e},null,8,["tree"])))),128))]),(0,n.Wm)(k,{logBoxArray:e.logTextArray},null,8,["logBoxArray"])])])])}class y{constructor(e,l,t,o){this.i=e,this.j=l,this.id=`i${e}j${l}`,this.indexInTree=null,this.type="field",this.color=o,this.nextCell=null,this.previousCell=null,this.parentTree=null,this.elementById=null,this.isCreateAnimation=!0,this.isCellAnimation=!1}setColor(e){this.color=e}setCellType(){this.type="cell",this.isCreateAnimation=!1,this.isCellAnimation=!0}setFieldType(e){this.isCreateAnimation=!1,this.isCreateAnimation=!0,this.isCellAnimation=!1,this.type="field",this.color=e,this.indexInTree=null}}class m{constructor(e){this.id=e.length,this.cells=[],this.lastCell=null,this.headColor=null,this.bodyColor=null,this.counterBox=null,this.counterCellBlock=null,this.counterCellText=null,this.isFreeCellsAround=!0,this.headColor=this.generateRandomColor(),this.bodyColor=this.generateRandomColor(),e.push(this)}generateRandomColor(){let e="#808080";while("#808080"===e)e="#",e+=Math.floor(16777215*Math.random()).toString(16);return e}addFirstCell(e,l,t){try{const o=this.randomCellFloor(e,l);console.log(o),console.log(o.elementById),this.cells.push(o),this.cells[0].setColor(this.headColor),this.cells[0].setCellType(),this.cells[0].parentTree=this,this.cells[0].indexInTree=this.cells.length-1,this.refreshLastCell(),this.createCellLog(t)}catch(o){console.log("========== Some Error =========="),console.log(o)}}chooseRandomStartCell(e,l){let t,o,n=0;while(n<e.length*e[0].length){if(t=this.getRandomInt(0,e.length),o=this.getRandomInt(0,e[0].length),console.log("In chooseRandomStartCell()"),e[t][o].color===l)return e[t][o];n+=1}}randomCellFloor(e,l){let t,o,n=0;while(n<2*e[0].length){if(t=e.length-1,o=this.getRandomInt(0,e[0].length),console.log("In chooseRandomStartCell()"),"field"===e[t][o].type)return e[t][o];n+=1}}getRandomInt(e,l){return e=Math.ceil(e),l=Math.floor(l),Math.floor(Math.random()*(l-e))+e}getBackgroundColor(e){return window.getComputedStyle(e,null).getPropertyValue("background-color")}refreshLastCell(){this.lastCell=this.cells[this.cells.length-1]}createCell(e,l,t){const o=this.FreeCellsAround(this.lastCell,e,l);if(0===o.length)this.isFreeCellsAround=!1;else{const e=this.chooseRandomPoint(o),[n,i]=e;this.addNextCell(n,i,l,t)}}FreeCellsAround(e,l,t){const o=[];let n=e.i-1,i=e.j-1;const r=e.i+2,a=e.j+2;for(;i<a;i++)for(n=e.i-1;n<r;n++)this.isCoordinateInField(n,i,t)&&t[i][n].color===l&&o.push([i,n]);return o}isCoordinateInField(e,l,t){return e>=0&&e<t[0].length&&l>=0&&l<t.length}chooseRandomPoint(e){const l=this.getRandomInt(0,e.length);return e[l]}addNextCell(e,l,t,o){this.lastCell.setColor(this.bodyColor);const n=t[e][l];n.setColor(this.headColor),n.setCellType(),this.cells.length,n.indexInTree=this.cells.length-1,n.previousCell=this.lastCell,n.parentTree=this,this.cells.push(n),n.parentTree.refreshLastCell(),this.nextCell=n,this.createCellLog(o)}createCellLog(e){const l={i:this.lastCell.i,j:this.lastCell.j,id:this.id,type:"create",headColor:this.headColor,bodyColor:this.bodyColor};e.push(l),e.length>100&&e.shift()}reset(){this.isFreeCellsAround=!0,this.cells=[],this.lastCell=null}changeRandomColor(){this.headColor=this.generateRandomColor(),this.bodyColor=this.generateRandomColor()}}var b=t(7139),x=t(6685);const w={class:"digital-tree__control-button"};function j(e,l,t,o,i,r){return(0,n.wg)(),(0,n.iD)("div",w,[!1===t.isGamePaused?((0,n.wg)(),(0,n.iD)("img",{key:0,src:"https://img.icons8.com/external-bearicons-glyph-bearicons/64/000000/external-Pause-essential-collection-bearicons-glyph-bearicons.png",class:"digital-tree__field-left-control-button",style:{height:"48px"},id:"field-left-control-pause",onClick:l[0]||(l[0]=(...e)=>o.pauseGame&&o.pauseGame(...e))})):((0,n.wg)(),(0,n.iD)("img",{key:1,src:"https://img.icons8.com/external-bearicons-glyph-bearicons/64/000000/external-Play-essential-collection-bearicons-glyph-bearicons.png",class:"digital-tree__field-left-control-button",style:{height:"48px"},id:"field-left-control-pause",onClick:l[1]||(l[1]=(...e)=>o.pauseGame&&o.pauseGame(...e))})),(0,n._)("img",{src:"https://img.icons8.com/glyph-neue/64/000000/restart.png",class:"digital-tree__field-left-control-button",id:"field-left-control-restart",style:{height:"56px"},onClick:l[2]||(l[2]=(...e)=>o.restartPage&&o.restartPage(...e))}),(0,n._)("img",{src:x,class:"digital-tree__field-left-control-button",id:"field-left-control-color",style:(0,b.j5)(o.colorButtonStyle),onClick:l[3]||(l[3]=(...e)=>o.stopChangeColor&&o.stopChangeColor(...e))},null,4)])}var k=t(4870),T={name:"ControlButton",props:{isGamePaused:{type:Boolean},isCanChangeColor:{type:Boolean}},setup(e,{emit:l}){const t=(0,k.iH)({});function o(){location.reload()}function n(){l("onPauseGame")}function i(){t.value=!1===e.isCanChangeColor?{height:"40px"}:{filter:"invert(0.6)",height:"40px"},l("onChangeColor")}return{restartPage:o,pauseGame:n,colorButtonStyle:t,stopChangeColor:i}}},H=t(89);const A=(0,H.Z)(T,[["render",j]]);var O=A,F=t(5034);const I=e=>((0,n.dD)("data-v-17d73d8c"),e=e(),(0,n.Cn)(),e),B={class:"digital-tree__header"},R=I((()=>(0,n._)("div",{class:"digital-tree__header-logo"},[(0,n._)("img",{src:F,style:{height:"32px",opacity:"0.5"},alt:"Vue logo"})],-1))),D=I((()=>(0,n._)("div",{class:"digital-tree__header-text"}," Digital Trees ",-1))),P=I((()=>(0,n._)("div",null,null,-1))),G=[R,D,P];function z(e,l){return(0,n.wg)(),(0,n.iD)("div",B,G)}const L={},S=(0,H.Z)(L,[["render",z],["__scopeId","data-v-17d73d8c"]]);var W=S;const Z={class:"cell-counter"};function M(e,l,t,o,i,r){return(0,n.wg)(),(0,n.iD)("div",Z,[(0,n._)("div",{class:"block-counter-head",style:(0,b.j5)({background:t.tree.headColor})},null,4),(0,n._)("div",{class:"block-counter",style:(0,b.j5)({background:t.tree.bodyColor})},[(0,n._)("p",{class:"cellText",style:(0,b.j5)({color:t.tree.bodyColor})},(0,b.zw)(t.tree.cells.length),5)],4)])}var V={name:"CellCounter",props:{tree:{type:Object}}};const q=(0,H.Z)(V,[["render",M],["__scopeId","data-v-732ff03d"]]);var N=q;const K={class:"blocks-field"};function U(e,l,t,o,i,r){const a=(0,n.up)("CellBlock");return(0,n.wg)(),(0,n.iD)("div",K,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.fieldCells,((e,l)=>((0,n.wg)(),(0,n.iD)("div",{key:l,class:"testArray"},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e.id,class:"testArray"},[(0,n.Wm)(a,{cellObject:e},null,8,["cellObject"])])))),128))])))),128))])}function Y(e,l,t,o,i,r){return(0,n.wg)(),(0,n.iD)("div",{class:(0,b.C_)({block:!0,create_block_animation:t.cellObject.isCreateAnimation,change_size_animation:t.cellObject.isCellAnimation}),style:(0,b.j5)({background:t.cellObject.color})},["cell"===t.cellObject.type?((0,n.wg)(),(0,n.iD)("p",{key:0,class:(0,b.C_)({cellText:!0}),style:(0,b.j5)({color:t.cellObject.color})},(0,b.zw)(t.cellObject.parentTree.id)+"-"+(0,b.zw)(t.cellObject.indexInTree),5)):(0,n.kq)("",!0)],6)}var E={name:"CellObject",props:{cellObject:{type:Object}},setup(e){const l=(0,k.iH)("false"),t=(0,k.iH)("false");return l.value=(0,n.Fl)((()=>"field"===e.cellObject.type)),t.value=(0,n.Fl)((()=>"cell"===e.cellObject.type)),{isField:l,isCell:t}}};const $=(0,H.Z)(E,[["render",Y],["__scopeId","data-v-06a6d3cd"]]);var J=$,Q={name:"CellsField",components:{CellBlock:J},props:{fieldCells:{type:Array}}};const X=(0,H.Z)(Q,[["render",U],["__scopeId","data-v-5b9f0d6e"]]);var ee=X;const le=e=>((0,n.dD)("data-v-013cca70"),e=e(),(0,n.Cn)(),e),te={class:"digital-tree__counter_cycle"},oe=le((()=>(0,n._)("div",{class:"digital-tree__counter-title"}," All cycle ",-1))),ne={class:"digital-tree__counter-count",id:"counter-count"},ie=le((()=>(0,n._)("div",{class:"digital-tree__counter-title"}," Full cycle ",-1))),re={class:"digital-tree__counter-count",id:"counter-fullCircle-count"};function ae(e,l,t,o,i,r){return(0,n.wg)(),(0,n.iD)("div",te,[(0,n._)("div",null,[oe,(0,n._)("div",ne,(0,b.zw)(t.cycleCounter),1)]),(0,n._)("div",null,[ie,(0,n._)("div",re,(0,b.zw)(t.fullCycleCounter),1)])])}var se={name:"CycleCounter",props:{cycleCounter:{type:Number},fullCycleCounter:{type:Number}}};const ce=(0,H.Z)(se,[["render",ae],["__scopeId","data-v-013cca70"]]);var ue=ce;const de={class:"digital-tree__log-box"},he=(0,n.uE)('<div class="digital-tree__logbox-title digital-tree__log-box-border" style="border-style:solid;" data-v-0f2a194b><div class="digital-tree__field-left-logbox-text" style="border:none;" data-v-0f2a194b><div class="digital-tree__field-left-logbox-td" style="width:56px;margin-left:0px;" data-v-0f2a194b> Action </div><div class="digital-tree__field-left-logbox-td" style="width:48px;" data-v-0f2a194b> Tree </div><div class="digital-tree__field-left-logbox-td" style="width:48px;" data-v-0f2a194b> Raw </div><div class="digital-tree__field-left-logbox-td" style="width:48px;" data-v-0f2a194b> Col. </div></div></div>',1),ge={class:"digital-tree__field-left-logbox",id:"logbox"};function fe(e,l,t,o,i,r){return(0,n.wg)(),(0,n.iD)("div",de,[he,(0,n._)("div",ge,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.logBoxArray.slice().reverse(),((e,l)=>((0,n.wg)(),(0,n.iD)("div",{key:l,class:"digital-tree__field-left-logbox-text digital-tree__log-box-border"},[(0,n._)("tr",null,[(0,n._)("td",{class:"digital-tree__field-left-logbox-td",style:(0,b.j5)({color:e.bodyColor,width:"64px"})}," Create ",4),(0,n._)("td",{class:"digital-tree__field-left-logbox-td",style:(0,b.j5)({color:e.bodyColor,width:"48px"})},(0,b.zw)(e.id),5),(0,n._)("td",{class:"digital-tree__field-left-logbox-td",style:(0,b.j5)({color:e.bodyColor,width:"48px"})},(0,b.zw)(e.i),5),(0,n._)("td",{class:"digital-tree__field-left-logbox-td",style:(0,b.j5)({color:e.bodyColor,width:"48px"})},(0,b.zw)(e.j),5)])])))),128))])])}var Ce={name:"LogBox",props:{logBoxArray:{type:Array,scrollToBottom(){console.log("Hello")}}}};const ve=(0,H.Z)(Ce,[["render",fe],["__scopeId","data-v-0f2a194b"]]);var pe=ve;const _e={name:"fieldBox",components:{ControlButton:O,CellHeader:W,CellCounter:N,CellsField:ee,CycleCounter:ue,LogBox:pe},setup(){const e=(0,k.iH)([]),l=(0,k.iH)(16),t=(0,k.iH)(16),o=(0,k.iH)(8),i=(0,k.iH)(8),r=(0,k.iH)([]),a=(0,k.iH)(new Array(8).fill(0).map((()=>new Array(16)))),s=(0,k.iH)("block"),c=(0,k.iH)("#808080"),u=(0,k.iH)(200),d=(0,k.iH)(0),h=(0,k.iH)(0),g=(0,k.iH)(3),f=(0,k.iH)(3),C=(0,k.iH)(!1),v=(0,k.iH)(!1),p=(0,k.iH)(!1),_=(0,k.iH)(!0);console.log("Hi"),b();for(let n=0;n<g.value;n++)new m(r.value);function b(){for(let e=0;e<a.value.length;e++)for(let l=0;l<a.value[e].length;l++)a.value[e][l]=new y(l,e,s.value,c.value)}function x(){console.log("In config"),w()}function w(){for(const l of r.value)l.addFirstCell(a.value,c.value,e.value)}async function j(){while(!1===C.value)!1===v.value&&await T(),!1===v.value?I():await A(200)}async function T(){while(H())if(await A(u.value),console.log("======= new turn ======="),O(),d.value+=1,v.value)return void(p.value=!0);h.value+=1,F()}function H(){const e=r.value.map((e=>e.isFreeCellsAround)),l=e.includes(!0);return l}function A(e){return new Promise((l=>{setTimeout(l,e)}))}async function O(){for(const l of r.value)l.isFreeCellsAround&&await l.createCell(c.value,a.value,e.value)}function F(){e.value.push("========= New cycle =========")}function I(){B(),console.log("CleanField");for(const e of r.value)e.reset();_.value&&R(),x(),console.log("config")}function B(){for(const e of a.value)for(const l of e)l.setFieldType(c.value)}function R(){for(const e of r.value)e.changeRandomColor()}function D(){v.value=!v.value,!1===v.value&&(p.value=!1)}function P(){_.value=!0!==_.value}async function G(){v.value=!0,g.value>f.value?await z():await L(),S()}async function z(){while(!0===p.value)await A(200);console.log("Added tree"),new m(r.value),r.value[r.value.length-1].addFirstCell(a.value,c.value,e.value),await D()}async function L(){while(!0===p.value)await A(200);for(const e of r.value[r.value.length-1].cells)e.setFieldType(c.value),await A(100);r.value.pop(),await D()}function S(){f.value=g.value}function W(){l.value>t.value?Z():M(),V()}function Z(){for(let e=0;e<a.value.length;e++)a.value[e].push(new y(a.value[e].length,e,s.value,c.value))}function M(){for(let e=0;e<a.value.length;e++)a.value[e].pop()}function V(){t.value=a.value[0].length}function q(){o.value>i.value?N():K(),U()}function N(){a.value.push([]);for(let e=0;e<a.value[0].length;e++)a.value[a.value.length-1].push(new y(e,a.value.length-1,s.value,c.value))}function K(){a.value.pop()}function U(){i.value=a.value.length}return(0,n.bv)((()=>{console.log("Hi Mounted"),x(),console.log("config before start finished"),j()})),{fieldCells:a,digitalTrees:r,fieldWidth:l,fieldHeight:o,logTextArray:e,pauseGame:D,isGamePaused:v,isCanChangeColor:_,cycleCounter:d,fullCycleCounter:h,timeRange:u,ChangeColor:P,checkTreeCount:G,treeCount:g,checkColumnCount:W,checkRawCount:q}}};var ye=_e;const me=(0,H.Z)(ye,[["render",_]]);var be=me,xe={name:"App",components:{fieldBox:be},methods:{}};const we=(0,H.Z)(xe,[["render",i]]);var je=we;(0,o.ri)(je).mount("#app")},6685:function(e,l,t){e.exports=t.p+"img/paint-palette-svgrepo-com.057bf51f.svg"},5034:function(e,l,t){e.exports=t.p+"img/vuejs-logo.db93bb4e.svg"}},l={};function t(o){var n=l[o];if(void 0!==n)return n.exports;var i=l[o]={exports:{}};return e[o](i,i.exports,t),i.exports}t.m=e,function(){var e=[];t.O=function(l,o,n,i){if(!o){var r=1/0;for(u=0;u<e.length;u++){o=e[u][0],n=e[u][1],i=e[u][2];for(var a=!0,s=0;s<o.length;s++)(!1&i||r>=i)&&Object.keys(t.O).every((function(e){return t.O[e](o[s])}))?o.splice(s--,1):(a=!1,i<r&&(r=i));if(a){e.splice(u--,1);var c=n();void 0!==c&&(l=c)}}return l}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[o,n,i]}}(),function(){t.n=function(e){var l=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(l,{a:l}),l}}(),function(){t.d=function(e,l){for(var o in l)t.o(l,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:l[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}}(),function(){t.p="/digital-trees-vue/"}(),function(){var e={143:0};t.O.j=function(l){return 0===e[l]};var l=function(l,o){var n,i,r=o[0],a=o[1],s=o[2],c=0;if(r.some((function(l){return 0!==e[l]}))){for(n in a)t.o(a,n)&&(t.m[n]=a[n]);if(s)var u=s(t)}for(l&&l(o);c<r.length;c++)i=r[c],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(u)},o=self["webpackChunkdigital_trees_vue"]=self["webpackChunkdigital_trees_vue"]||[];o.forEach(l.bind(null,0)),o.push=l.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(9715)}));o=t.O(o)})();
//# sourceMappingURL=app.36e94cda.js.map